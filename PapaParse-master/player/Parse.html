<!doctype html>
<html>
<head>
<meta charset="utf-8">
<!--<meta http-equiv="Access-Control-Allow-Origin" content="*">-->
<title>Test CSV</title>
</head>
<body>
  <input type="file" />
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="../papaparse.js"></script>
<script language="javascript">
  //Papa.parse("https://raw.githubusercontent.com/therobreynolds/permit-me-boston/master/source_files/ReviewExport.csv", { download: true, complete: function(results) { console.log("Remote file parsed!", results); } });

//   $(document).ready(function() {
//     $.ajax({
//         type: "GET",
//         url: "https://raw.githubusercontent.com/therobreynolds/permit-me-boston/master/source_files/ReviewExport.csv",
//         dataType: "text",
//         success: function(data) {processData(data);}
//      });
// });

// function processData(allText) {
//     var allTextLines = allText.split(/\r\n|\n/);
//     var headers = allTextLines[0].split(',');
//     var lines = [];

//     for (var i=1; i<allTextLines.length; i++) {
//         var data = allTextLines[i].split(',');
//         if (data.length == headers.length) {

//             var tarr = [];
//             for (var j=0; j<headers.length; j++) {
//                 tarr.push(headers[j]+":"+data[j]);
//             }
//             lines.push(tarr);
//         }
//     }
//     // alert(lines);
// }
$.ajax({
  type: 'GET',
  url: 'https://rawgit.com/therobreynolds/permit-me-boston/master/source_files/ReviewExport.csv',
  headers: {
      'Access-Control-Allow-Origin': '*'
  },
  success: function() {
      console.log('success');
  },
  error: function() {
      console.log('failure');
  }
});

// Papa.parse("https://rawgit.com/therobreynolds/permit-me-boston/master/source_files/ReviewExport.csv", {
//     download: true,
//     step: function(row) {
//         console.log("Row:", row.data);
//     },
//     complete: function() {
//         console.log("All done!");
//     }
// });

</script>
</html>